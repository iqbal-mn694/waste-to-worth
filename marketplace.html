<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Waste to Worth - Pasar</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #2e7d32;
            --primary-light: #60ad5e;
            --primary-dark: #005005;
            --secondary: #ffab00;
            --secondary-light: #ffdd4b;
            --secondary-dark: #c67c00;
            --background: #f8f9fa;
            --surface: #ffffff;
            --error: #c62828;
            --text-primary: #212121;
            --text-secondary: #757575;
            --text-on-primary: #ffffff;
            --text-on-secondary: #000000;
            --border-radius: 12px;
            --box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Montserrat', sans-serif;
        }

        body {
            background-color: var(--background);
            color: var(--text-primary);
            line-height: 1.6;
            font-weight: 400;
        }

        h1, h2, h3, h4, h5, h6 {
            font-weight: 600;
            line-height: 1.2;
        }

        /* Header Styles */
        header {
            background-color: var(--primary);
            color: var(--text-on-primary);
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

         .header-left {
            display: flex;
            align-items: center;
            gap: 3rem;
        }

         .logo {
            display: flex;
            align-items: center;
            gap: 1rem;
            text-decoration: none;
        }

        .logo img {
            height: 50px;
            width: 50px;
            object-fit: contain;
        }

        .logo h1 {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--text-on-primary);
        }

        /* Navigation */
       /* Navigation */
        nav {
            display: flex;
            align-items: center;
        }

        nav ul {
            display: flex;
            list-style: none;
            gap: 2rem;
        }

        nav a {
            color: var(--text-on-primary);
            text-decoration: none;
            font-weight: 500;
            transition: var(--transition);
            padding: 0.5rem 0;
            position: relative;
            font-size: 0.95rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        nav a:hover {
            opacity: 0.9;
        }

        nav a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background-color: var(--secondary);
            transition: var(--transition);
        }
        
        nav a.active::after,
        nav a:hover::after {
            width: 100%;
        }
        
        .header-right {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .user-actions {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

      .btn {
            padding: 0.6rem 1.2rem;
            border-radius: var(--border-radius);
            border: none;
            font-weight: 500;
            cursor: pointer;
            transition: var(--transition);
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            font-size: 0.9rem;
        }

        .btn-primary {
            background-color: var(--secondary);
            color: var(--text-on-secondary);
        }

        .btn-primary:hover {
            background-color: var(--secondary-light);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .btn-secondary {
            background-color: transparent;
            color: var(--text-on-primary);
            border: 1px solid var(--text-on-primary);
        }

        .btn-secondary:hover {
            background-color: rgba(255, 255, 255, 0.1);
            transform: translateY(-2px);
        }

        .btn-icon {
            padding: 0.5rem;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            color: var(--text-on-primary);
            background-color: transparent;
            border: none;
        }

        .btn-icon:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }

        .user-profile {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            overflow: hidden;
            cursor: pointer;
            border: 2px solid var(--secondary);
            transition: var(--transition);
        }

        .user-profile:hover {
            transform: scale(1.05);
        }

        .user-profile img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        /* Cart Styles */
        .cart-container {
            position: relative;
        }

        .cart-count {
            position: absolute;
            top: 0;
            right: 0;
            background-color: var(--error);
            color: var(--text-on-primary);
            font-size: 0.7rem;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-weight: 600;
            border: 1px solid var(--primary);
            transform: translate(25%, -25%);
        }
        
        .cart-dropdown {
            position: absolute;
            top: calc(100% + 15px);
            right: 0;
            width: 380px; /* Diperbesar */
            background-color: var(--surface);
            border-radius: var(--border-radius);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
            z-index: 1001;
            color: var(--text-primary);
            padding: 1rem;
            display: none;
            flex-direction: column;
            gap: 1rem;
        }
        
        .cart-dropdown.active {
            display: flex;
        }
        
        .cart-dropdown h3 {
            margin: 0;
            padding-bottom: 0.75rem;
            border-bottom: 1px solid #eee;
            text-align: center;
        }
        
        .cart-items {
            max-height: 300px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 1rem;
            padding-right: 0.5rem; /* Ruang untuk scrollbar */
        }
        
        .cart-item {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .cart-item img {
            width: 60px; /* Sedikit diperbesar */
            height: 60px;
            object-fit: cover;
            border-radius: 8px;
        }

        .cart-item-info {
            flex-grow: 1;
        }
        
        .cart-item-info h4 {
            font-size: 0.9rem;
            margin: 0 0 0.25rem 0;
        }

        .cart-item-info p {
            font-size: 0.8rem;
            color: var(--text-secondary);
        }
        
        .cart-item-controls {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .cart-quantity-btn {
            width: 24px;
            height: 24px;
            border: 1px solid #ddd;
            background-color: #f5f5f5;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .cart-quantity-btn:hover {
            background-color: #e0e0e0;
        }

        .cart-item-controls input {
            width: 30px;
            text-align: center;
            border: none;
            background: transparent;
            font-weight: 500;
        }

        .remove-item {
            background: none;
            border: none;
            color: var(--error);
            cursor: pointer;
            font-size: 1rem;
            margin-left: 0.5rem;
        }
        
        .cart-empty {
            text-align: center;
            color: var(--text-secondary);
            padding: 2rem 0;
        }
        
        .cart-footer {
            border-top: 1px solid #eee;
            padding-top: 1rem;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        
        .cart-total {
            display: flex;
            justify-content: space-between;
            font-weight: 600;
            font-size: 1.1rem;
        }

        /* Hamburger Menu */
        .hamburger {
            display: none;
            cursor: pointer;
            width: 30px;
            height: 25px;
            flex-direction: column;
            justify-content: space-between;
            z-index: 1001;
        }

        .hamburger span {
            display: block;
            height: 3px;
            width: 100%;
            background-color: var(--text-on-primary);
            transition: var(--transition);
        }

        .hamburger.active span:nth-child(1) {
            transform: translateY(11px) rotate(45deg);
        }

        .hamburger.active span:nth-child(2) {
            opacity: 0;
        }

        .hamburger.active span:nth-child(3) {
            transform: translateY(-11px) rotate(-45deg);
        }

        /* Mobile Menu */
        .mobile-menu {
            position: fixed;
            top: 0;
            right: -100%;
            width: 80%;
            max-width: 300px;
            height: 100vh;
            background-color: var(--primary-dark);
            padding: 5rem 2rem;
            transition: var(--transition);
            z-index: 1000;
            box-shadow: -5px 0 15px rgba(0, 0, 0, 0.2);
        }

        .mobile-menu.active {
            right: 0;
        }

        .mobile-menu ul {
            list-style: none;
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .mobile-menu a {
            color: var(--text-on-primary);
            text-decoration: none;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
            gap: 0.8rem;
            padding: 0.5rem 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .mobile-menu .user-actions {
            margin-top: 2rem;
            flex-direction: column;
            align-items: flex-start;
            gap: 1rem;
        }

        /* Main Content Styles */
        main {
            padding: 2rem;
            max-width: 1200px;
            margin: 0 auto;
            min-height: calc(100vh - 200px);
        }

        .section-title {
            text-align: center;
            margin-bottom: 3rem;
        }

        .section-title h2 {
            font-size: 2.2rem;
            margin-bottom: 1rem;
            color: var(--primary-dark);
            position: relative;
            display: inline-block;
        }

        .section-title h2::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 4px;
            background-color: var(--secondary);
            border-radius: 2px;
        }

        .section-title p {
            color: var(--text-secondary);
            max-width: 700px;
            margin: 0 auto;
            font-size: 1.1rem;
            font-weight: 400;
        }

        /* Marketplace Specific Styles */
        .marketplace-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .filter-controls {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .filter-select {
            padding: 0.8rem 1rem;
            border-radius: var(--border-radius);
            border: 1px solid #ddd;
            background-color: var(--surface);
            font-size: 0.95rem;
            min-width: 180px;
            font-family: 'Montserrat', sans-serif;
            transition: var(--transition);
        }

        .filter-select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(46, 125, 50, 0.1);
        }

        .product-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .product-card {
            background-color: var(--surface);
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--box-shadow);
            transition: var(--transition);
            position: relative;
            border: 1px solid rgba(0, 0, 0, 0.05);
        }

        /* .product-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
            border-color: rgba(46, 125, 50, 0.2);
        } */

        .product-badge {
            position: absolute;
            top: 1rem;
            left: 1rem;
            background-color: var(--secondary);
            color: var(--text-on-secondary);
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            z-index: 1;
            display: flex;
            align-items: center;
            gap: 0.3rem;
        }

        .product-image {
            height: 220px;
            background-color: #eee;
            background-size: cover;
            background-position: center;
            transition: var(--transition);
        }

        /* .product-card:hover .product-image {
            transform: scale(1.05);
        } */

        .product-info {
            padding: 1.5rem;
        }

        .product-info h3 {
            margin-bottom: 0.5rem;
            font-size: 1.2rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .product-info p {
            color: var(--text-secondary);
            font-size: 0.95rem;
            margin-bottom: 0.8rem;
            min-height: 40px;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .product-price {
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 1.2rem;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .product-actions {
            display: flex;
            gap: 0.5rem;
        }

        .product-actions .btn {
            flex: 1;
            padding: 0.6rem;
            font-size: 0.9rem;
        }

        /* Pagination */
        .pagination {
            display: flex;
            justify-content: center;
            gap: 0.5rem;
            margin-top: 2rem;
        }

        .pagination-btn {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: var(--surface);
            border: 1px solid #ddd;
            cursor: pointer;
            transition: var(--transition);
            font-weight: 500;
        }

        .pagination-btn.active {
            background-color: var(--primary);
            color: var(--text-on-primary);
            border-color: var(--primary);
        }

        .pagination-btn:hover:not(.active) {
            background-color: #f0f0f0;
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 2000;
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background-color: var(--surface);
            border-radius: var(--border-radius);
            width: 90%;
            max-width: 800px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            animation: modalFadeIn 0.3s ease;
        }

        @keyframes modalFadeIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .modal-header {
            padding: 1.5rem;
            border-bottom: 1px solid #eee;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-header h3 {
            font-size: 1.5rem;
            color: var(--primary-dark);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--text-secondary);
            transition: var(--transition);
        }

        .modal-close:hover {
            color: var(--primary);
            transform: rotate(90deg);
        }

        .modal-body {
            padding: 1.5rem;
        }

        /* Product Detail */
        .product-detail {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
        }

        .product-detail-image {
            height: 400px;
            background-color: #eee;
            background-size: cover;
            background-position: center;
            border-radius: var(--border-radius);
        }

        .product-detail-info h2 {
            font-size: 1.8rem;
            margin-bottom: 1rem;
            color: var(--primary-dark);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .product-detail-price {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .product-detail-description {
            color: var(--text-secondary);
            margin-bottom: 2rem;
            line-height: 1.7;
        }

        .product-detail-meta {
            margin-bottom: 2rem;
        }

        .meta-item {
            display: flex;
            margin-bottom: 0.8rem;
            align-items: center;
        }

        .meta-label {
            width: 120px;
            font-weight: 500;
            color: var(--text-primary);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .meta-value {
            color: var(--text-secondary);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .product-detail-actions {
            display: flex;
            gap: 1rem;
            margin-top: 2rem;
        }

        /* Cart Modal */
        .cart-items {
            margin-bottom: 2rem;
        }

        .cart-item {
            display: flex;
            gap: 1.5rem;
            padding: 1rem 0;
            border-bottom: 1px solid #eee;
        }

        .cart-item-image {
            width: 80px;
            height: 80px;
            background-color: #eee;
            background-size: cover;
            background-position: center;
            border-radius: var(--border-radius);
        }

        .cart-item-info {
            flex: 1;
        }

        .cart-item-title {
            font-weight: 600;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .cart-item-price {
            color: var(--primary);
            font-weight: 600;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .cart-item-actions {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .quantity-control {
            display: flex;
            align-items: center;
            border: 1px solid #ddd;
            border-radius: var(--border-radius);
        }

        .quantity-btn {
            width: 30px;
            height: 30px;
            background-color: #f5f5f5;
            border: none;
            cursor: pointer;
            font-size: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .quantity-input {
            width: 40px;
            height: 30px;
            text-align: center;
            border: none;
            border-left: 1px solid #ddd;
            border-right: 1px solid #ddd;
        }

        .remove-item {
            color: var(--error);
            background: none;
            border: none;
            cursor: pointer;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 0.3rem;
        }

        .cart-summary {
            background-color: #f9f9f9;
            padding: 1.5rem;
            border-radius: var(--border-radius);
            margin-top: 2rem;
        }

        .summary-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.8rem;
        }

        .summary-total {
            font-weight: 700;
            font-size: 1.1rem;
            border-top: 1px solid #ddd;
            padding-top: 0.8rem;
            margin-top: 0.8rem;
        }

        .checkout-btn {
            width: 100%;
            margin-top: 1.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        /* Checkout Success Modal */
        .checkout-success {
            text-align: center;
            padding: 2rem;
        }

        .success-icon {
            font-size: 4rem;
            color: var(--primary);
            margin-bottom: 1.5rem;
        }

        .checkout-success h3 {
            font-size: 1.8rem;
            margin-bottom: 1rem;
            color: var(--primary-dark);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .checkout-success p {
            color: var(--text-secondary);
            margin-bottom: 2rem;
            line-height: 1.7;
        }

        .invoice-details {
            background-color: #f9f9f9;
            padding: 1.5rem;
            border-radius: var(--border-radius);
            margin-bottom: 2rem;
            text-align: left;
        }

        .invoice-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.8rem;
        }

        .invoice-title {
            font-weight: 600;
            margin-bottom: 1rem;
            color: var(--primary-dark);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .eco-impact-insight {
            background-color: rgba(46, 125, 50, 0.05);
            padding: 1.5rem;
            border-radius: var(--border-radius);
            margin-bottom: 2rem;
            text-align: left;
            border-left: 4px solid var(--primary);
        }

        .eco-impact-insight h4 {
            color: var(--primary-dark);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .eco-impact-insight p {
            color: var(--text-secondary);
            line-height: 1.7;
        }

        /* Chatbot */
        .chatbot-container {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            z-index: 1000;
        }

        .chatbot-btn {
            background-color: var(--secondary);
            color: var(--text-on-secondary);
            width: 60px;
            height: 60px;
            border-radius: 50%;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
        }

        .chatbot-btn:hover {
            transform: scale(1.1) rotate(10deg);
            background-color: var(--secondary-light);
        }

        .chatbot-window {
            position: absolute;
            bottom: 80px;
            right: 0;
            width: 350px;
            height: 500px;
            background-color: var(--surface);
            border-radius: var(--border-radius);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
            display: none;
            flex-direction: column;
            overflow: hidden;
            transform-origin: bottom right;
            animation: scaleUp 0.3s ease;
            border: 1px solid rgba(0, 0, 0, 0.1);
        }

        @keyframes scaleUp {
            from { transform: scale(0.5); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }

        .chatbot-header {
            background-color: var(--primary);
            color: var(--text-on-primary);
            padding: 1.2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .chatbot-header h3 {
            font-size: 1.1rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .chatbot-close {
            background: none;
            border: none;
            color: var(--text-on-primary);
            font-size: 1.5rem;
            cursor: pointer;
            transition: var(--transition);
        }

        .chatbot-close:hover {
            transform: rotate(90deg);
        }

        .chatbot-messages {
            flex: 1;
            padding: 1.5rem;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 1rem;
            background-color: #f9f9f9;
        }

        .message {
            max-width: 80%;
            padding: 0.8rem 1.2rem;
            border-radius: 18px;
            font-size: 0.95rem;
            line-height: 1.4;
            animation: fadeInUp 0.3s ease;
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .bot-message {
            background-color: var(--surface);
            align-self: flex-start;
            border-bottom-left-radius: 4px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }

        .user-message {
            background-color: var(--primary-light);
            color: var(--text-on-primary);
            align-self: flex-end;
            border-bottom-right-radius: 4px;
        }

        .chatbot-input {
            display: flex;
            padding: 1rem;
            border-top: 1px solid #eee;
            background-color: var(--surface);
        }

        .chatbot-input input {
            flex: 1;
            padding: 0.8rem 1rem;
            border: 1px solid #ddd;
            border-radius: 20px 0 0 20px;
            outline: none;
            font-size: 0.95rem;
            transition: var(--transition);
            font-family: 'Montserrat', sans-serif;
        }

        .chatbot-input input:focus {
            border-color: var(--primary);
        }

        .chatbot-send {
            padding: 0 1.2rem;
            background-color: var(--primary);
            color: var(--text-on-primary);
            border: none;
            border-radius: 0 20px 20px 0;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .chatbot-send:hover {
            background-color: var(--primary-dark);
        }

        /* Footer */
        footer {
            background-color: var(--primary-dark);
            color: var(--text-on-primary);
            padding: 3rem 2rem 2rem;
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 2rem;
            text-align: left;
        }

        .footer-column h3 {
            margin-bottom: 1.5rem;
            font-size: 1.1rem;
            font-weight: 600;
            position: relative;
            padding-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .footer-column h3::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 40px;
            height: 2px;
            background-color: var(--secondary);
        }

        .footer-column ul {
            list-style: none;
        }

        .footer-column li {
            margin-bottom: 0.8rem;
        }

        .footer-column a {
            color: rgba(255, 255, 255, 0.8);
            text-decoration: none;
            transition: var(--transition);
            font-size: 0.95rem;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }

        .footer-column a:hover {
            color: var(--text-on-primary);
            transform: translateX(5px);
        }

        .social-links {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
        }

        .social-links a {
            color: var(--text-on-primary);
            font-size: 1.2rem;
            transition: var(--transition);
        }

        .social-links a:hover {
            color: var(--secondary);
            transform: translateY(-3px);
        }

        .copyright {
            margin-top: 3rem;
            padding-top: 1.5rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.9rem;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        /* Responsive Design */
        @media (max-width: 992px) {
            .marketplace-header {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .filter-controls {
                width: 100%;
            }
            
            .filter-select {
                flex: 1;
                min-width: auto;
            }

            .product-detail {
                grid-template-columns: 1fr;
            }

            .product-detail-image {
                height: 300px;
            }
        }

        @media (max-width: 768px) {
            /* Hide desktop nav */
            nav.desktop-nav {
                display: none;
            }
            
            /* Show hamburger */
            .hamburger {
                display: flex;
            }
            
            .user-actions .btn {
                display: none;
            }
            
            .product-grid {
                grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
            }
            
            .chatbot-window {
                width: 300px;
                height: 450px;
                right: 1rem;
            }

            .modal-content {
                width: 95%;
            }
        }

        @media (max-width: 576px) {
            header {
                padding: 1rem;
            }
            
            .product-grid {
                grid-template-columns: 1fr;
            }
            
            .filter-controls {
                flex-direction: column;
                width: 100%;
            }
            
            .filter-select {
                width: 100%;
            }
            
            .footer-content {
                grid-template-columns: 1fr;
                text-align: center;
            }

            .footer-column h3::after {
                left: 50%;
                transform: translateX(-50%);
            }

            .social-links {
                justify-content: center;
            }

            .product-detail-actions {
                flex-direction: column;
            }

            .product-detail-actions .btn {
                width: 100%;
            }

            .cart-item {
                flex-direction: column;
                gap: 1rem;
            }

            .cart-item-image {
                width: 100%;
                height: 120px;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="header-left">
            <a href="index.html" class="logo">
                <img src="./logo-wow-2.png" alt="Waste to Worth Logo">
                <h1>Waste to Worth</h1>
            </a>
            
            <nav class="desktop-nav">
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="marketplace.html" class="active">Marketplace</a></li>
                    <li><a href="community.html">Community</a></li>
                    <li><a href="education.html">Education</a></li>
                    <!-- <li><a href="profile.html">Profile</a></li> -->
                </ul>
            </nav>
        </div>
        
        <div class="header-right">
             <div class="user-actions">
                <div class="cart-container">
                    <button class="btn btn-icon" id="cartIcon">
                        <i class="fas fa-shopping-cart"></i>
                        <span class="cart-count" id="cartCount">15</span>
                    </button>
                    <div class="cart-dropdown" id="cartDropdown">
                        <h3>Keranjang Belanja</h3>
                        <div class="cart-items" id="cartItems">
                            </div>
                        <div class="cart-footer" id="cartFooter" style="display: none;">
                            <div class="cart-total">
                                <span>Total:</span>
                                <span id="cartTotal">Rp 0</span>
                            </div>
                            <button class="btn btn-primary" style="width: 100%;">Checkout</button>
                        </div>
                    </div>
                </div>
                 <div class="user-profile">
                     <img src="./profile-1.jpg" alt="Profil Pengguna">
                 </div>
             </div>
    
            <div class="hamburger" id="hamburger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </header>
     
    <div class="mobile-menu" id="mobileMenu">
        <ul>
            <li><a href="index.html"><i class="fas fa-home"></i> Beranda</a></li>
            <li><a href="marketplace.html" class="active"><i class="fas fa-store"></i> Pasar</a></li>
            <li><a href="community.html"><i class="fas fa-users"></i> Komunitas</a></li>
            <li><a href="education.html"><i class="fas fa-graduation-cap"></i> Edukasi</a></li>
            <li><a href="profile.html"><i class="fas fa-user"></i> Profil</a></li>
        </ul>
        <div class="user-actions">
            <button class="btn btn-secondary"><i class="fas fa-sign-in-alt"></i> Masuk</button>
            <button class="btn btn-primary"><i class="fas fa-user-plus"></i> Daftar</button>
        </div>
    </div>
    
    <!-- Mobile Menu -->
    <div class="mobile-menu" id="mobileMenu">
        <ul>
            <li><a href="index.html"><i class="fas fa-home"></i> Beranda</a></li>
            <li><a href="marketplace.html" class="active"><i class="fas fa-store"></i> Pasar</a></li>
            <li><a href="community.html"><i class="fas fa-users"></i> Komunitas</a></li>
            <li><a href="education.html"><i class="fas fa-graduation-cap"></i> Edukasi</a></li>
            <li><a href="profile.html"><i class="fas fa-user"></i> Profil</a></li>
        </ul>
        <div class="user-actions">
            <button class="btn btn-secondary"><i class="fas fa-sign-in-alt"></i> Masuk</button>
            <button class="btn btn-primary"><i class="fas fa-user-plus"></i> Daftar</button>
        </div>
    </div>

    <main>
        <div class="section-title">
            <h2><i class="fas fa-recycle"></i> Waste Marketplace</h2>
            <p>Temukan bahan bekas berkualitas untuk proyek kreatif Anda atau jual bahan yang tidak terpakai</p>
        </div>

        <div class="marketplace-header">
            <h3>Produk Tersedia</h3>
            <div class="filter-controls">
                <select class="filter-select">
                    <option value=""><i class="fas fa-layer-group"></i> Semua Kategori</option>
                    <option value="fabric"><i class="fas fa-tshirt"></i> Kain & Tekstil</option>
                    <option value="wood"><i class="fas fa-tree"></i> Kayu & Furnitur</option>
                    <option value="plastic"><i class="fas fa-prescription-bottle"></i> Plastik</option>
                    <option value="metal"><i class="fas fa-hammer"></i> Logam</option>
                    <option value="glass"><i class="fas fa-wine-glass-alt"></i> Kaca</option>
                    <option value="electronics"><i class="fas fa-plug"></i> Elektronik</option>
                </select>
                <select class="filter-select">
                    <option value=""><i class="fas fa-map-marker-alt"></i> Semua Lokasi</option>
                    <option value="jakarta"><i class="fas fa-city"></i> Jakarta</option>
                    <option value="bandung"><i class="fas fa-mountain"></i> Bandung</option>
                    <option value="surabaya"><i class="fas fa-anchor"></i> Surabaya</option>
                    <option value="yogyakarta"><i class="fas fa-monument"></i> Yogyakarta</option>
                    <option value="bali"><i class="fas fa-umbrella-beach"></i> Bali</option>
                </select>
                <select class="filter-select">
                    <option value=""><i class="fas fa-sort"></i> Urutkan</option>
                    <option value="newest"><i class="fas fa-clock"></i> Terbaru</option>
                    <option value="price-low"><i class="fas fa-sort-amount-down-alt"></i> Harga: Rendah ke Tinggi</option>
                    <option value="price-high"><i class="fas fa-sort-amount-down"></i> Harga: Tinggi ke Rendah</option>
                    <option value="popular"><i class="fas fa-fire"></i> Paling Populer</option>
                </select>
            </div>
        </div>

        <div class="product-grid">
            <!-- Product 1 -->
            <div class="product-card">
                <!-- <div class="product-badge"><i class="fas fa-star"></i> Paling Cocok</div> -->
                <div class="product-image" style="background-image: url('https://fiberrecycling.com/wp-content/uploads/2021/02/Recycling-denim-fabric-1024x683.jpg');"></div>
                <div class="product-info">
                    <h3>Potongan Kain Denim</h3>
                    <div class="product-price"><i class="fas fa-tag"></i> Rp 25.000/kg</div>
                    <div class="product-actions">
                        <button class="btn btn-save"><i class="fa fa-heart"></i> Wishlist</button>
                        <a href="/detail.html" class="btn btn-primary btn-cart" style="text-decoration: none;">
                           <i class="fa fa-info-circle"></i> Detail
                        </a>
                    </div>
                </div>
            </div>
            <!-- Product 2 -->
            <div class="product-card">
                <!-- <div class="product-badge"><i class="fas fa-star"></i> Paling Cocok</div> -->
                <div class="product-image" style="background-image: url('https://mesinpengolahsampah.files.wordpress.com/2015/02/limbah-kaca.jpg?w=262&h=262');"></div>
                <div class="product-info">
                    <h3>Limbah Kaca</h3>
                    <div class="product-price"><i class="fas fa-tag"></i> Rp 12.000/kg</div>
                    <div class="product-actions">
                        <button class="btn btn-save"><i class="fa fa-heart"></i> Wishlist</button>
                        <a href="/detail.html" class="btn btn-primary btn-cart" style="text-decoration: none;">
                           <i class="fa fa-info-circle"></i> Detail
                        </a>
                    </div>
                </div>
            </div>
            <div class="product-card">
                <!-- <div class="product-badge"><i class="fas fa-star"></i> Paling Cocok</div> -->
                <div class="product-image" style="background-image: url('https://cdn.antaranews.com/cache/1200x800/2018/09/botol.jpg');"></div>
                <div class="product-info">
                    <h3>Botol Bekas</h3>
                    <div class="product-price"><i class="fas fa-tag"></i> Rp 10.000/kg</div>
                    <div class="product-actions">
                        <button class="btn btn-save"><i class="fa fa-heart"></i> Wishlist</button>
                        <a href="/detail.html" class="btn btn-primary btn-cart" style="text-decoration: none;">
                           <i class="fa fa-info-circle"></i> Detail
                        </a>
                    </div>
                </div>
            </div>

        </div>

        <div class="pagination">
            <div class="pagination-btn"><i class="fas fa-chevron-left"></i></div>
            <div class="pagination-btn active">1</div>
            <div class="pagination-btn">2</div>
            <div class="pagination-btn">3</div>
            <div class="pagination-btn"><i class="fas fa-chevron-right"></i></div>
        </div>
    </main>

    <!-- Product Detail Modal -->
    <div class="modal" id="productModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-info-circle"></i> Detail Produk</h3>
                <button class="modal-close" id="closeProductModal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="product-detail">
                    <div class="product-detail-image" id="modalProductImage"></div>
                    <div class="product-detail-info">
                        <h2 id="modalProductTitle"><i class="fas fa-tshirt"></i> Potongan Kain Denim</h2>
                        <div class="product-detail-price" id="modalProductPrice"><i class="fas fa-tag"></i> Rp 25.000/kg</div>
                        <div class="product-detail-description" id="modalProductDescription">
                            Berbagai ukuran dan warna potongan kain denim bekas yang cocok untuk berbagai proyek daur ulang. Material dalam kondisi baik, sudah dicuci dan siap digunakan untuk membuat tas, dompet, atau kerajinan lainnya.
                        </div>
                        <div class="product-detail-meta">
                            <div class="meta-item">
                                <span class="meta-label"><i class="fas fa-layer-group"></i> Kategori:</span>
                                <span class="meta-value" id="modalProductCategory"><i class="fas fa-tshirt"></i> Kain & Tekstil</span>
                            </div>
                            <div class="meta-item">
                                <span class="meta-label"><i class="fas fa-map-marker-alt"></i> Lokasi:</span>
                                <span class="meta-value" id="modalProductLocation"><i class="fas fa-city"></i> Jakarta</span>
                            </div>
                            <div class="meta-item">
                                <span class="meta-label"><i class="fas fa-boxes"></i> Stok:</span>
                                <span class="meta-value" id="modalProductStock"><i class="fas fa-check-circle"></i> 15 kg</span>
                            </div>
                            <div class="meta-item">
                                <span class="meta-label"><i class="fas fa-store"></i> Penjual:</span>
                                <span class="meta-value" id="modalProductSeller"><i class="fas fa-user-tie"></i> Budi Recycled Materials</span>
                            </div>
                        </div>
                        <div class="product-detail-actions">
                            <button class="btn btn-secondary" id="saveProductBtn"><i class="far fa-bookmark"></i> Simpan</button>
                            <button class="btn btn-primary" id="addToCartBtn"><i class="fas fa-cart-plus"></i> + Keranjang</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Cart Modal -->
    <div class="modal" id="cartModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-shopping-cart"></i> Keranjang Belanja</h3>
                <button class="modal-close" id="closeCartModal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="cart-items" id="cartItems">
                    <!-- Cart items will be dynamically inserted here -->
                </div>
                <div class="cart-summary">
                    <div class="summary-row">
                        <span><i class="fas fa-receipt"></i> Subtotal</span>
                        <span id="cartSubtotal">Rp 0</span>
                    </div>
                    <div class="summary-row">
                        <span><i class="fas fa-truck"></i> Pengiriman</span>
                        <span id="cartShipping">Rp 15.000</span>
                    </div>
                    <div class="summary-row summary-total">
                        <span><i class="fas fa-money-bill-wave"></i> Total</span>
                        <span id="cartTotal">Rp 15.000</span>
                    </div>
                    <button class="btn btn-primary checkout-btn" id="checkoutBtn"><i class="fas fa-credit-card"></i> Checkout</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Checkout Success Modal -->
    <div class="modal" id="checkoutSuccessModal">
        <div class="modal-content">
            <div class="checkout-success">
                <div class="success-icon"><i class="fas fa-check-circle"></i></div>
                <h3><i class="fas fa-check"></i> Checkout Berhasil!</h3>
                <p>Terima kasih telah berbelanja di Waste to Worth. Pesanan Anda sedang diproses dan akan dikirim segera.</p>
                
                <div class="invoice-details">
                    <div class="invoice-title"><i class="fas fa-file-invoice"></i> Ringkasan Pesanan</div>
                    <div class="invoice-row">
                        <span><i class="fas fa-hashtag"></i> No. Pesanan:</span>
                        <span>WTW-20230715-001</span>
                    </div>
                    <div class="invoice-row">
                        <span><i class="far fa-calendar-alt"></i> Tanggal:</span>
                        <span>15 Juli 2023</span>
                    </div>
                    <div class="invoice-row">
                        <span><i class="fas fa-money-check-alt"></i> Metode Pembayaran:</span>
                        <span>Transfer Bank</span>
                    </div>
                    <div class="invoice-row">
                        <span><i class="fas fa-coins"></i> Total Pembayaran:</span>
                        <span>Rp 115.000</span>
                    </div>
                </div>
                
                <div class="eco-impact-insight">
                    <h4><i class="fas fa-leaf"></i> Dampak Lingkungan Positif</h4>
                    <p>Dengan membeli bahan daur ulang ini, Anda telah berkontribusi dalam mengurangi sampah yang berakhir di TPA. Perkiraan dampak lingkungan dari transaksi ini:</p>
                    <ul style="margin-top: 0.5rem; color: var(--text-secondary);">
                        <li><i class="fas fa-cloud"></i> Mengurangi emisi CO2 sebesar 2.5 kg</li>
                        <li><i class="fas fa-bolt"></i> Menghemat energi setara dengan 5 kWh</li>
                        <li><i class="fas fa-trash-restore"></i> Mencegah 3 kg sampah masuk ke landfill</li>
                    </ul>
                </div>

                <div style="margin-top: 2rem; text-align: center;">
                    <h4><i class="fas fa-graduation-cap"></i> Edukasi Pengolahan Sampah</h4>
                    <p>Kami merekomendasikan artikel berikut untuk membantu Anda memanfaatkan bahan yang telah dibeli:</p>
                    <div style="display: flex; flex-wrap: wrap; gap: 1rem; justify-content: center; margin-top: 1rem;">
                        <a href="#" class="btn btn-secondary" style="display: flex; align-items: center; gap: 0.5rem;">
                            <i class="fas fa-book"></i> Panduan Daur Ulang Kain
                        </a>
                        <a href="#" class="btn btn-secondary" style="display: flex; align-items: center; gap: 0.5rem;">
                            <i class="fas fa-video"></i> Video Tutorial
                        </a>
                        <a href="#" class="btn btn-secondary" style="display: flex; align-items: center; gap: 0.5rem;">
                            <i class="fas fa-lightbulb"></i> Ide Kreatif
                        </a>
                    </div>
                </div>
                
                <button class="btn btn-primary" id="finishCheckoutBtn" style="margin-top: 2rem;">
                    <i class="fas fa-check"></i> Selesai
                </button>
            </div>
        </div>
    </div>

    <!-- Chatbot -->
    <div class="chatbot-container">
        <button class="chatbot-btn" id="chatbotBtn"><i class="fas fa-comment-dots"></i></button>
        <div class="chatbot-window" id="chatbotWindow">
            <div class="chatbot-header">
                <h3><i class="fas fa-robot"></i> Asisten Waste to Worth</h3>
                <button class="chatbot-close" id="chatbotClose"></button>
            </div>
            <div class="chatbot-messages" id="chatbotMessages">
                <div class="message bot-message">Halo! Saya asisten Waste to Worth. Bagaimana saya bisa membantu Anda dengan produk di pasar hari ini?</div>
                <div class="message bot-message">Anda bisa menanyakan tentang:
                    <ul style="margin-top: 0.5rem; padding-left: 1.5rem;">
                        <li><i class="fas fa-tag"></i> Informasi harga produk</li>
                        <li><i class="fas fa-truck"></i> Opsi pengiriman</li>
                        <li><i class="fas fa-recycle"></i> Ide daur ulang bahan</li>
                        <li><i class="fas fa-credit-card"></i> Proses pembayaran</li>
                    </ul>
                </div>
            </div>
            <div class="chatbot-input">
                <input type="text" id="chatbotInput" placeholder="Ketik pesan Anda...">
                <button class="chatbot-send" id="chatbotSend"><i class="fas fa-paper-plane"></i> Kirim</button>
            </div>
        </div>
    </div>

    <footer>
        <div class="footer-content">
            <div class="footer-column">
                <h3><i class="fas fa-info-circle"></i> Tentang Kami</h3>
                <ul>
                    <li><a href="#"><i class="fa-solid fa-user-group"></i></i> Profile</a></li>
                </ul>
            </div>
            <div class="footer-column">
                <h3><i class="fas fa-concierge-bell"></i> Layanan</h3>
                <ul>
                    <li><a href="#"><i class="fas fa-store"></i> Marketplace</a></li>
                    <li><a href="#"><i class="fas fa-comment"></i> Chatbot</a></li>
                    <li><a href="#"><i class="fas fa-search-plus"></i> Visual Search</a></li>
                    <li><a href="#"><i class="fas fa-chart-pie"></i> Ecotracker</a></li>
                    <li><a href="#"><i class="fas fa-users"></i> Community</a></li>
                    <li><a href="#"><i class="fas fa-graduation-cap"></i> Education</a></li>
                </ul>
            </div>
            <div class="footer-column">
                <h3><i class="fas fa-address-book"></i> Hubungi Kami</h3>
                <ul>
                    <li><i class="fas fa-envelope"></i> info@wastetoworth.id</li>
                    <li><i class="fas fa-phone"></i> +62 21 1234 5678</li>
                    <li><i class="fas fa-map-marker-alt"></i> Tasikmalaya, Indonesia</li>
                </ul>
                <div class="social-links">
                    <a href="#"><i class="fab fa-instagram"></i></a>
                    <a href="#"><i class="fab fa-facebook"></i></a>
                    <a href="#"><i class="fab fa-twitter"></i></a>
                    <a href="#"><i class="fab fa-linkedin"></i></a>
                    <a href="#"><i class="fab fa-youtube"></i></a>
                </div>
            </div>
        </div>
        <div class="copyright">
            <i class="far fa-copyright"></i> 2025 Waste to Worth. All rights reserved.
        </div>
    </footer>

    <script>
        // Sample product data
        const products = {
            1: {
                title: "Potongan Kain Denim",
                price: "Rp 25.000/kg",
                description: "Berbagai ukuran dan warna potongan kain denim bekas yang cocok untuk berbagai proyek daur ulang. Material dalam kondisi baik, sudah dicuci dan siap digunakan untuk membuat tas, dompet, atau kerajinan lainnya.",
                category: "Kain & Tekstil",
                location: "Jakarta",
                stock: "15 kg",
                seller: "Budi Recycled Materials",
                image: "https://images.unsplash.com/photo-1527689368864-3a821dbccc34?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60"
            },
            2: {
                title: "Palet Kayu",
                price: "Rp 50.000/palet",
                description: "Palet kayu bekas dalam kondisi baik, cocok untuk proyek furnitur daur ulang atau dekorasi. Ukuran standar 120x80 cm, tebal kayu 2 cm. Sudah dibersihkan dan siap digunakan.",
                category: "Kayu & Furnitur",
                location: "Bandung",
                stock: "8 palet",
                seller: "Green Wood Supplies",
                image: "https://images.unsplash.com/photo-1586023492128-395c9b005323?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60"
            },
            3: {
                title: "Botol Plastik (Bersih)",
                price: "Rp 5.000/botol",
                description: "Botol plastik bekas berbagai merek minuman, sudah dibersihkan dan dikelompokkan berdasarkan warna. Cocok untuk proyek daur ulang kreatif atau bahan kerajinan.",
                category: "Plastik",
                location: "Surabaya",
                stock: "100 botol",
                seller: "Plastik Kreatif",
                image: "https://images.unsplash.com/photo-1602143407151-7111542de6e8?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60"
            },
            4: {
                title: "Koleksi Toples Kaca",
                price: "Rp 10.000/toples",
                description: "Berbagai ukuran toples kaca bekas dengan tutup yang masih bagus. Cocok untuk penyimpanan bahan makanan kering atau proyek dekorasi. Sudah dicuci bersih dan disterilkan.",
                category: "Kaca",
                location: "Yogyakarta",
                stock: "25 toples",
                seller: "Glass Upcycle",
                image: "https://images.unsplash.com/photo-1604176354204-9268737828e4?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60"
            },
            5: {
                title: "Kain Spunbond Daur Ulang",
                price: "Rp 35.000/meter",
                description: "Kain spunbond bekas banner dan spanduk dalam berbagai warna dan ukuran. Material masih kuat dan cocok untuk dibuat tas, tempat pensil, atau produk fashion lainnya.",
                category: "Kain & Tekstil",
                location: "Bali",
                stock: "30 meter",
                seller: "Eco Fabric",
                image: "https://images.unsplash.com/photo-1557200134-90327ee9fafa?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60"
            },
            6: {
                title: "Komponen Sepeda Bekas",
                price: "Rp 15.000 - 75.000",
                description: "Berbagai komponen sepeda bekas seperti rantai, gir, rem, dan roda. Cocok untuk proyek seni atau perbaikan sepeda. Kondisi bervariasi, silakan tanyakan detailnya.",
                category: "Logam",
                location: "Jakarta",
                stock: "Varias",
                seller: "Bike Parts Recycler",
                image: "https://images.unsplash.com/photo-1596496181871-9681eac976e2?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60"
            },
            7: {
                title: "Potongan Keramik",
                price: "Rp 30.000/kg",
                description: "Potongan keramik bekas berbagai warna dan ukuran. Cocok untuk proyek mozaik, dekorasi dinding, atau kerajinan lainnya. Sudah dibersihkan dan tepiannya tidak tajam.",
                category: "Keramik",
                location: "Bandung",
                stock: "10 kg",
                seller: "Art Tile Studio",
                image: "https://images.unsplash.com/photo-1605000797499-95a51c5269ae?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60"
            },
            8: {
                title: "Koleksi Kancing Vintage",
                price: "Rp 8.000/paket",
                description: "Koleksi kancing baju bekas berbagai gaya dan ukuran. Cocok untuk proyek fashion daur ulang atau kerajinan tangan. Setiap paket berisi 10-15 kancing dengan desain acak.",
                category: "Kain & Tekstil",
                location: "Jakarta",
                stock: "20 paket",
                seller: "Vintage Buttons",
                image: "https://images.unsplash.com/photo-1584308666744-24d5c474f2ae?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60"
            }
        };

        // Cart data
        let cart = [];

        // DOM Elements
        const productModal = document.getElementById('productModal');
        const cartModal = document.getElementById('cartModal');
        const checkoutSuccessModal = document.getElementById('checkoutSuccessModal');
        const closeProductModal = document.getElementById('closeProductModal');
        const closeCartModal = document.getElementById('closeCartModal');
        const finishCheckoutBtn = document.getElementById('finishCheckoutBtn');
        const cartItemsContainer = document.getElementById('cartItems');
        const checkoutBtn = document.getElementById('checkoutBtn');
        const addToCartBtn = document.getElementById('addToCartBtn');
        const saveProductBtn = document.getElementById('saveProductBtn');
        const productCards = document.querySelectorAll('.product-card');
        const cartBtns = document.querySelectorAll('.btn-cart');
        const saveBtns = document.querySelectorAll('.btn-save');

        // Hamburger Menu Functionality
        const hamburger = document.getElementById('hamburger');
        const mobileMenu = document.getElementById('mobileMenu');

        hamburger.addEventListener('click', () => {
            hamburger.classList.toggle('active');
            mobileMenu.classList.toggle('active');
        });

        // Close mobile menu when clicking on a link
        const mobileLinks = mobileMenu.querySelectorAll('a');
        mobileLinks.forEach(link => {
            link.addEventListener('click', () => {
                hamburger.classList.remove('active');
                mobileMenu.classList.remove('active');
            });
        });

        // Product card click handler
        productCards.forEach(card => {
            card.addEventListener('click', (e) => {
                // Don't open modal if clicking on buttons
                if (!e.target.classList.contains('btn')) {
                    const productId = card.getAttribute('data-id');
                    const product = products[productId];
                    
                    // Update modal with product data
                    document.getElementById('modalProductTitle').textContent = product.title;
                    document.getElementById('modalProductPrice').textContent = product.price;
                    document.getElementById('modalProductDescription').textContent = product.description;
                    document.getElementById('modalProductCategory').textContent = product.category;
                    document.getElementById('modalProductLocation').textContent = product.location;
                    document.getElementById('modalProductStock').textContent = product.stock;
                    document.getElementById('modalProductSeller').textContent = product.seller;
                    document.getElementById('modalProductImage').style.backgroundImage = `url('${product.image}')`;
                    
                    // Set data attribute for add to cart button
                    addToCartBtn.setAttribute('data-id', productId);
                    saveProductBtn.setAttribute('data-id', productId);
                    
                    // Show modal
                    productModal.style.display = 'flex';
                }
            });
        });

        // Add to cart from modal
        addToCartBtn.addEventListener('click', () => {
            const productId = addToCartBtn.getAttribute('data-id');
            addToCart(productId);
            productModal.style.display = 'none';
            cartModal.style.display = 'flex';
        });

        // Save product handler
        saveProductBtn.addEventListener('click', () => {
            const productId = saveProductBtn.getAttribute('data-id');
            alert(`Produk ${products[productId].title} telah disimpan ke daftar favorit Anda`);
            productModal.style.display = 'none';
        });

        // Add to cart from product grid
        cartBtns.forEach(btn => {
            btn.addEventListener('click', (e) => {
                e.stopPropagation();
                const productId = btn.closest('.product-card').getAttribute('data-id');
                addToCart(productId);
                cartModal.style.display = 'flex';
            });
        });

        // Save product from product grid
        saveBtns.forEach(btn => {
            btn.addEventListener('click', (e) => {
                e.stopPropagation();
                const productId = btn.closest('.product-card').getAttribute('data-id');
                alert(`Produk ${products[productId].title} telah disimpan ke daftar favorit Anda`);
            });
        });

        // Add product to cart function
        function addToCart(productId) {
            const existingItem = cart.find(item => item.id === productId);
            
            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cart.push({
                    id: productId,
                    quantity: 1,
                    price: products[productId].price,
                    title: products[productId].title,
                    image: products[productId].image
                });
            }
            
            updateCartDisplay();
        }

        // Update cart display
        function updateCartDisplay() {
            cartItemsContainer.innerHTML = '';
            
            if (cart.length === 0) {
                cartItemsContainer.innerHTML = '<p style="text-align: center; color: var(--text-secondary);"><i class="fas fa-shopping-cart"></i> Keranjang Anda kosong</p>';
                document.getElementById('cartSubtotal').textContent = `Rp 0`;
                document.getElementById('cartShipping').textContent = `Rp 0`;
                document.getElementById('cartTotal').textContent = `Rp 0`;
                return;
            }
            
            let subtotal = 0;
            
            cart.forEach(item => {
                const priceNumber = parseInt(item.price.replace(/\D/g, ''));
                const itemTotal = priceNumber * item.quantity;
                subtotal += itemTotal;
                
                const cartItemElement = document.createElement('div');
                cartItemElement.className = 'cart-item';
                cartItemElement.innerHTML = `
                    <div class="cart-item-image" style="background-image: url('${item.image}')"></div>
                    <div class="cart-item-info">
                        <div class="cart-item-title"><i class="fas fa-box-open"></i> ${item.title}</div>
                        <div class="cart-item-price"><i class="fas fa-tag"></i> ${item.price}</div>
                        <div class="cart-item-actions">
                            <div class="quantity-control">
                                <button class="quantity-btn minus" data-id="${item.id}">-</button>
                                <input type="text" class="quantity-input" value="${item.quantity}" readonly>
                                <button class="quantity-btn plus" data-id="${item.id}">+</button>
                            </div>
                            <button class="remove-item" data-id="${item.id}">
                                <i class="fas fa-trash"></i> Hapus
                            </button>
                        </div>
                    </div>
                `;
                
                cartItemsContainer.appendChild(cartItemElement);
            });
            
            // Calculate shipping (fixed for demo)
            const shipping = 15000;
            const total = subtotal + shipping;
            
            // Update totals
            document.getElementById('cartSubtotal').textContent = `Rp ${subtotal.toLocaleString()}`;
            document.getElementById('cartShipping').textContent = `Rp ${shipping.toLocaleString()}`;
            document.getElementById('cartTotal').textContent = `Rp ${total.toLocaleString()}`;
            
            // Add event listeners to quantity buttons
            document.querySelectorAll('.quantity-btn.minus').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const productId = btn.getAttribute('data-id');
                    const item = cart.find(item => item.id === productId);
                    
                    if (item.quantity > 1) {
                        item.quantity -= 1;
                        updateCartDisplay();
                    } else {
                        if (confirm('Apakah Anda ingin menghapus produk ini dari keranjang?')) {
                            cart = cart.filter(i => i.id !== productId);
                            updateCartDisplay();
                        }
                    }
                });
            });
            
            document.querySelectorAll('.quantity-btn.plus').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const productId = btn.getAttribute('data-id');
                    const item = cart.find(item => item.id === productId);
                    item.quantity += 1;
                    updateCartDisplay();
                });
            });
            
            // Add event listeners to remove buttons
            document.querySelectorAll('.remove-item').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const productId = btn.getAttribute('data-id');
                    if (confirm('Apakah Anda yakin ingin menghapus produk ini dari keranjang?')) {
                        cart = cart.filter(item => item.id !== productId);
                        updateCartDisplay();
                    }
                });
            });
        }

        // Checkout button handler
        checkoutBtn.addEventListener('click', () => {
            cartModal.style.display = 'none';
            checkoutSuccessModal.style.display = 'flex';
            // Clear cart after checkout
            cart = [];
            updateCartDisplay();
        });

        // Finish checkout button handler
        finishCheckoutBtn.addEventListener('click', () => {
            checkoutSuccessModal.style.display = 'none';
        });

        // Modal close handlers
        closeProductModal.addEventListener('click', () => {
            productModal.style.display = 'none';
        });

        closeCartModal.addEventListener('click', () => {
            cartModal.style.display = 'none';
        });

        // Close modals when clicking outside
        window.addEventListener('click', (e) => {
            if (e.target === productModal) {
                productModal.style.display = 'none';
            }
            if (e.target === cartModal) {
                cartModal.style.display = 'none';
            }
            if (e.target === checkoutSuccessModal) {
                checkoutSuccessModal.style.display = 'none';
            }
        });

        // Chatbot functionality
        const chatbotBtn = document.getElementById('chatbotBtn');
        const chatbotWindow = document.getElementById('chatbotWindow');
        const chatbotClose = document.getElementById('chatbotClose');
        const chatbotMessages = document.getElementById('chatbotMessages');
        const chatbotInput = document.getElementById('chatbotInput');
        const chatbotSend = document.getElementById('chatbotSend');

        chatbotBtn.addEventListener('click', () => {
            chatbotWindow.style.display = 'flex';
        });

        chatbotClose.addEventListener('click', () => {
            chatbotWindow.style.display = 'none';
        });

        chatbotSend.addEventListener('click', sendMessage);
        chatbotInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });

        function sendMessage() {
            const message = chatbotInput.value.trim();
            if (message) {
                // Add user message
                addMessage(message, 'user');
                chatbotInput.value = '';
                
                // Bot response
                setTimeout(() => {
                    const botResponse = getBotResponse(message);
                    addMessage(botResponse, 'bot');
                }, 1000);
            }
        }

        function addMessage(text, sender) {
            const messageElement = document.createElement('div');
            messageElement.className = `message ${sender}-message`;
            messageElement.innerHTML = text;
            chatbotMessages.appendChild(messageElement);
            chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
        }

        function getBotResponse(message) {
            const lowerMessage = message.toLowerCase();
            
            if (lowerMessage.includes('harga') || lowerMessage.includes('price')) {
                return "Harga produk bervariasi tergantung jenis dan kualitas bahan. Anda bisa melihat detail harga di halaman produk. Apakah ada produk spesifik yang ingin Anda tanyakan?";
            } else if (lowerMessage.includes('pengiriman') || lowerMessage.includes('shipping')) {
                return "Kami menyediakan berbagai opsi pengiriman dengan biaya mulai dari Rp 15.000 tergantung lokasi dan berat paket. Pengiriman biasanya memakan waktu 2-5 hari kerja.";
            } else if (lowerMessage.includes('pembayaran') || lowerMessage.includes('payment')) {
                return "Kami menerima berbagai metode pembayaran termasuk transfer bank, e-wallet (OVO, GoPay, Dana), dan kartu kredit. Pembayaran aman melalui sistem kami.";
            } else if (lowerMessage.includes('daur ulang') || lowerMessage.includes('recycle')) {
                return "Kami punya banyak ide kreatif untuk bahan daur ulang! Misalnya: kain denim bisa dibuat tas, botol plastik bisa jadi pot tanaman, dan palet kayu bisa diubah menjadi furnitur. Mau ide untuk bahan apa?";
            } else if (lowerMessage.includes('terima kasih') || lowerMessage.includes('thanks')) {
                return "Sama-sama! Jika ada pertanyaan lain, jangan ragu untuk bertanya ya. Selamat berbelanja di Waste to Worth!";
            } else {
                return "Maaf, saya tidak mengerti pertanyaan Anda. Anda bisa menanyakan tentang: harga produk, opsi pengiriman, metode pembayaran, atau ide daur ulang. Ada yang bisa saya bantu?";
            }
        }

        // Initialize cart display
        updateCartDisplay();
    </script>
</body>
</html>
